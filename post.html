<!doctype html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Share House</title>
    <link rel="stylesheet" href="assets/css/app.css">
</head>

<body>
    <div id="app">
        <header class="header d-flex">
            <div class="brand d-flex">
                <div class="d-flex items-center">
                    <svg class="logo-svg" xmlns="http://www.w3.org/2000/svg" width="29.103" height="25" viewBox="0 0 29.103 25"><path d="M15.551,2.1l-2.739,2.46a6.292,6.292,0,0,1,.956.858c.026.026.047.062.072.088A6.516,6.516,0,0,1,14.6,6.52l.005-.005c.041.078.1.145.145.227A6.616,6.616,0,0,1,18.2,12.55a6.912,6.912,0,0,1-.1,1.188,6.614,6.614,0,0,1-5.188,10.717V27.1H26.134V15.2H30.1ZM8.937,5.936a3.977,3.977,0,0,0-3.8,2.816,3.968,3.968,0,0,0-2.3,5.746A3.967,3.967,0,0,0,4.969,21.81H7.614V27.1H10.26V21.81h2.646A3.967,3.967,0,0,0,15.04,14.5a3.968,3.968,0,0,0-2.3-5.746A3.977,3.977,0,0,0,8.937,5.936Z" transform="translate(-1 -2.102)" fill="#edf2f7"/></svg>
                    <a class="logo" href="index.html">Share House</a>
                </div>
                

                <div class="hamburguer d-none md:d-block" onClick="toggleMenu()">
                    <input type="checkbox">
                    <div>
                        <div></div>
                        <div></div>
                        <div></div>
                    </div>
                </div>
            </div>

            <nav class="navbar d-flex justify-content-between items-center user-actions">
                <input class="form-control search" type="text" placeholder="Procure por palavras">

                <div class="d-flex md:d-block items-center">
                    <div class="items">
                        <a href="post.html">Não possui uma conta?</a>
                        <a href="javascript:alert('Entre em contato com o nosso call center: (89) 9 9401-1019');">Fazer login</a>
                    </div>

                    <!-- <div class="d-flex items-center">
                        <div class="avatar md:mt-2">
                            <input class="dropdown-toggle" type="checkbox">

                            <div class="dropdown">
                                <a href="settings.html">Configurações</a>
                                <a href="javascript:alert('Entre em contato com o nosso call center: (89) 9 9401-1019');">Suporte</a>
                                <a href="#login">Fazer logout</a>
                            </div>
                        </div>
                        
                        <a href="#" class="d-none md:d-block username mt-2 ml-4 text-white no-underline semibold">Lucas Paz</a>
                    </div> -->
                </div>
            </nav>
        </header>

        <div class="main">
            <div class="d-flex justify-content-between sidenav-search">
                <input class="form-control search" type="text" placeholder="Procure por palavras">
                <button class="btn" onClick="toggleSidenav()">Filtros</button>
            </div>

            <section class="sidenav">
                <div class="d-flex h-full justify-content-between flex-column">
                    <div class="container sidenav-menu">
                        <div class="d-flex justify-content-between md:mt-2 md:mb-2">
                            <div class="col-w-2">
                                <div class="label">Quartos</div>
                                <select class="custom-select">
                                    <option>1</option>
                                    <option>2</option>
                                    <option>3</option>
                                    <option>4</option>
                                </select>
                            </div>

                            <div class="col-w-2">
                                <div class="label">Banheiros</div>
                                <select class="custom-select">
                                    <option>1</option>
                                    <option>2</option>
                                    <option>3</option>
                                    <option>4</option>
                                </select>
                            </div>
                        </div>

                        <div>
                            <div class="pt-3 label">Preço</div>
                            <select class="custom-select">
                                <option>Mais de R$ 500/mês</option>
                                <option>Mais de R$ 1,000/mês</option>
                                <option>Mais de R$ 1,500/mês</option>
                                <option>Mais de R$ 2,000/mês</option>
                            </select>
                        </div>

                        <hr>

                        <div>
                            <div class="label mb-3">Tipo de propriedade</div>

                            <label class="mt-3 d-flex items-center">
                                <input class="custom-radio" name="property" type="radio">
                                <span class="ml-2">Casa</span>
                            </label>

                            <label class="mt-3 d-flex items-center">
                                <input class="custom-radio" name="property" type="radio">
                                <span class="ml-2">Apartamento</span>
                            </label>

                            <label class="mt-3 d-flex items-center">
                                <input class="custom-radio" name="property" type="radio">
                                <span class="ml-2">Studio</span>
                            </label>

                            <label class="mt-3 d-flex items-center">
                                <input class="custom-radio" name="property" type="radio">
                                <span class="ml-2">Container</span>
                            </label>
                        </div>

                        <hr>

                        <div>
                            <div class="label mb-3">Gênero</div>

                            <label class="mt-3 d-flex items-center">
                                <input class="custom-radio" name="gender" type="radio" value="todos">
                                <span class="ml-2">Todos</span>
                            </label>

                            <label class="mt-3 d-flex items-center">
                                <input class="custom-radio" name="gender" type="radio" value="female">
                                <span class="ml-2">Apenas mulheres</span>
                            </label>

                            <label class="mt-3 d-flex items-center">
                                <input class="custom-radio" name="gender" type="radio" value="male">
                                <span class="ml-2">Apenas homens</span>
                            </label>
                        </div>

                        <hr>

                        <div>
                            <div class="label mb-3">Requisitos</div>

                            <label class="mt-3 d-flex items-center">
                                <input class="custom-radio" name="amentities" type="radio">
                                <span class="ml-2">Varanda</span>
                            </label>

                            <label class="mt-3 d-flex items-center">
                                <input class="custom-radio" name="amentities" type="radio">
                                <span class="ml-2">Piscina</span>
                            </label>

                            <label class="mt-3 d-flex items-center">
                                <input class="custom-radio" name="amentities" type="radio">
                                <span class="ml-2">Parque</span>
                            </label>

                            <label class="mt-3 d-flex items-center">
                                <input class="custom-radio" name="amentities" type="radio">
                                <span class="ml-2">Ar condicionado</span>
                            </label>
                        </div>
                    </div>

                    <div class="safe-area">
                        <button class="filter-button">Filtrar</button>
                    </div>
                </div>
            </section>

            <div class="container scrollable">
                <div class="title">Anuncie sua propriedade</div>
                <div class="description">Compartilhe sua casa e conheça pessoas novas!</div>

                <div class="card wp-md-100 wp-75 mt-5">
                    <div class="card-title">Detalhes da propriedade</div>

                    <form class="card-body mt-2 d-flex flex-column house-form">
                        <label for="photo" class="label mt-4 text-black-40">Imagem de destaque</label>
                        <div class="d-none photo">
                            <img
                                src="https://images.unsplash.com/photo-1512917774080-9991f1c4c750?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"
                                class="img-rounded mt-4"
                                width="300"
                                alt="Avatar de Lucas Paz"
                            >
                        </div>
                        <input type="file" id="photo2" class="form-control mt-4">

                        <label for="album" class="label mt-4 text-black-40">Álbum</label>
                        <div class="d-flex mt-4 album scrollable d-none album">
                            <img
                                src="https://images.unsplash.com/photo-1512917774080-9991f1c4c750?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"
                                class="img-rounded"
                                width="300"
                                alt="Imagem 1"
                            >
                            <img
                                src="https://images.unsplash.com/photo-1512917774080-9991f1c4c750?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"
                                class="img-rounded ml-2"
                                width="300"
                                alt="Imagem 2"
                            >
                        </div>
                        <input type="file" id="album" multiple class="form-control mt-4">

                        <label class="label mt-4 text-black-40" for="title">Título</label>
                        <input type="text" id="title" class="form-control mt-3" value="Casa de luxo com piscina">

                        <label class="label mt-4 text-black-40" for="address">Endereço</label>
                        <input type="text" id="address" class="form-control mt-3" value="Rua da Paz, Junco, Picos - Piauí">

                        <label class="label mt-4 text-black-40" for="contact">Contato</label>
                        <input type="text" id="contact" class="form-control mt-4" value="(89) 9 9401-1019">

                        <div class="d-flex justify-content-between">
                            <div class="flex-grow-1">
                                <label class="label mt-4 text-black-40" for="baths">Quartos</label>
                                <input type="number" id="baths" class="form-control mt-4" min="0" value="1"> 
                            </div>

                            <div class="flex-grow-1 ml-4">
                                <label class="label mt-4 text-black-40" for="beds">Banheiros</label>
                                <input type="number" id="beds" class="form-control mt-4" min="0" value="1"> 
                            </div>
                        </div>

                        <label class="label mt-4 text-black-40" for="type">Tipo de propriedade</label>
                        <select id="type" class="form-control mt-4">
                            <option selected disabled>Selecione um tipo de propriedade</option>
                            <option value="house">Casa</option>
                            <option value="apartment">Apartamento</option>
                            <option value="studio">Studio</option>
                            <option value="room">Quarto</option>
                        </select>

                        <label class="label mt-4 text-black-40" for="amenities">Extras</label>
                        <select id="amenities" class="form-control mt-4" multiple>
                            <option value="balcony">Varanda</option>
                            <option value="pool">Piscina</option>
                            <option value="animals">Animais</option>
                            <option value="child">Crianças</option>
                            <option value="air_conditioning">Ar condicionado</option>
                        </select>

                        <div class="d-flex">
                            <button type="button" id="anuciar" class="mt-4 btn btn-primary">Anunciar</button>
                            <button type="reset" class="btn ml-2 mt-4" onClick="postReset()">Limpar formulário</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- <script src="https://unpkg.com/axios/dist/axios.min.js"></script> -->
    <!-- <script src="assets/js/app.js"></script> -->
    <script src="./assets/js/house.js"></script>
    <!-- <script>
        function postReset() {
            document.querySelector('.photo').classList.add('d-none');
            document.querySelector('.album').classList.add('d-none');

            document.querySelector('.album').innerHTML = '';
        }

        window.addEventListener('load', function() {
            /** Single File **/
            document.querySelector('#photo').addEventListener('change', function() {
                document.querySelector('.photo').classList.remove('d-none');

                if (this.files && this.files[0]) {
                    var img = document.querySelector('.photo img');  // $('img')[0]
                    img.src = URL.createObjectURL(this.files[0]); // set src to blob url
                }
            });
            
            /** Multiple Files **/
            document.querySelector('#album').addEventListener('change', function() {
                document.querySelector('.album').classList.remove('d-none');

                console.log(this.files);

                document.querySelector('.album').innerHTML = '';
                if (this.files && this.files[0]) {
                    for(var i = 0; i < this.files.length; i++) {
                        document.querySelector('.album').insertAdjacentHTML('beforeend', `<img src="${URL.createObjectURL(this.files[i])}" class="img-rounded${ i != 0 ? ' ml-2' : ''}" width="300" alt="${this.files[i].name}" />`);
                    }
                    // img.src = URL.createObjectURL(this.files[0]); // set src to blob url
                }
            });
        });

        document.querySelector('.house-form').addEventListener('submit', (e) => {
            e.preventDefault();

            let formData = new FormData();
            // formData.append('file[]', document.querySelector('.house-form #photo').files[0]);
            
            // for(var i = 0; i < document.querySelector('.house-form #album').files.length; i++) {
            //     formData.append('file[]', document.querySelector('.house-form #album').files[0]);
            // }

            formData.append('title', document.querySelector('.house-form #title').value);
            formData.set('contact', document.querySelector('.house-form #contact').value);
            formData.set('address', document.querySelector('.house-form #address').value);
            formData.set('beds', document.querySelector('.house-form #beds').value);
            formData.set('baths', document.querySelector('.house-form #baths').value);
            formData.set('type', document.querySelector('.house-form #type').value);
            formData.set('amenities', document.querySelector('.house-form #amenities').value);

            var url = 'http://127.0.0.1:3000/house';

            // formData.append('file', document.querySelector('.house-form #photo').files[0]);

            // axios.post('http://127.0.0.1:3000/house', formData);
            fetch('http://127.0.0.1:3000/house/imagem', {
                method: 'POST',
                body: formData
            });
        });
    </script> -->
</body>
</html>